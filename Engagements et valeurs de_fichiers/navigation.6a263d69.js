"use strict";var storefront;(self.webpackChunkstorefront=self.webpackChunkstorefront||[]).push([[521],{4134:(e,t,n)=>{n.d(t,{default:()=>c});var i="navigation-item",o="navigation-submenu",s="toggle-submenu-button",a="close-submenu-button",l=storefront.shared.globals;const c=function(){function e(){var e,t,n,c=this;this.navigationItem=document.getElementsByClassName(i),this.toggleButton=document.getElementsByClassName(s),this.closeMobileButton=document.getElementsByClassName(a),this.hamburgerMenu=document.querySelector(".hamburger-menu"),this.mobileNavigation=document.querySelector("#mobileNavigation"),this.announcementBar=document.querySelector("#announcementBar"),this.header=document.querySelector(".header"),this.content=document.body,this.updateSelectors=function(){c.navigationItem=document.getElementsByClassName(i),c.toggleButton=document.getElementsByClassName(s),c.closeMobileButton=document.getElementsByClassName(a),c.hamburgerMenu=document.querySelector(".hamburger-menu"),c.mobileNavigation=document.querySelector("#mobileNavigation"),c.announcementBar=document.querySelector("#announcementBar"),c.header=document.querySelector(".header"),c.content=document.body},this.init=function(){c.updateSelectors(),c.bindUiActions(),c.setMenuPosition(),c.setPageHeightVariable(),c.setHeaderClassesByStickiness(),window.addEventListener("resize",(function(){c.debouncedOnChange(),c.setPageHeightVariable(),window.innerWidth>=960&&c.hideMobileMenuIfOpen()})),window.addEventListener("scroll",(function(){var e,t=null===(e=c.header)||void 0===e?void 0:e.offsetHeight,n=c.announcementBar?c.announcementBar.offsetHeight:0;c.header&&c.header.classList.contains("scroll-type-sticky_compact")&&(c.getScrollY()-n>t?c.header.classList.add("has-compact-content"):c.header.classList.remove("has-compact-content"))}))},this.debouncedOnChange=(e=function(){c.setMenuPosition()},t=300,function(){for(var i,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n&&clearTimeout(n),n=setTimeout((function(){i=e.apply(void 0,o)}),t),i}),this.setMenuPosition=function(){window.innerWidth>=960&&c.navigationItem&&Array.from(c.navigationItem).forEach((function(e){var t=e.getClientRects();if(t.length&&(window.innerWidth-t[0].left<=320?e.classList.add("position-right"):e.classList.remove("position-right"),e.classList.contains("has-children"))){var n=e.querySelector(".".concat(o));n&&(n.style.maxHeight="".concat(window.innerHeight-t[0].bottom-40,"px"))}}))},this.getScrollY=function(){return window.scrollY||document.documentElement.scrollTop||document.body.scrollTop||0},this.setNavTopOffset=function(){var e,t=null===(e=c.header)||void 0===e?void 0:e.offsetHeight;t&&null!==c.mobileNavigation&&(c.mobileNavigation.style.top="".concat(t,"px"),c.mobileNavigation.style.height="calc(var(--page-height) - ".concat(t,"px)"))},this.elementSetScrollCss=function(e,t){e.style.overflow=t?"initial":"hidden",e.style.position=t?"initial":"fixed",e.style.height=t?"auto":"100%",e.style.width=t?"auto":"100%"},this.mobileMenuToggle=function(e){var t;null===(t=c.hamburgerMenu)||void 0===t||t.addEventListener("click",(function(){var t,n,i,o,s,a,r,u,d;e.setNavTopOffsetCallback();var m=null===(t=c.hamburgerMenu)||void 0===t?void 0:t.querySelector("img"),v=new Event("toggleMobileMenu",{bubbles:!0});window.dispatchEvent(v),(null===(n=c.mobileNavigation)||void 0===n?void 0:n.classList.contains("is-active"))?(null==m||m.setAttribute("src",l.imagesUrl.hamburgerMenu),null===(a=c.mobileNavigation)||void 0===a||a.classList.remove("is-active"),null===(r=c.hamburgerMenu)||void 0===r||r.classList.remove("is-active"),(null===(u=c.announcementBar)||void 0===u?void 0:u.classList.contains("visible-true"))&&(null===(d=c.announcementBar)||void 0===d||d.classList.remove("d-none")),c.elementSetScrollCss(c.content,!0)):(null==m||m.setAttribute("src",l.imagesUrl.hamburgerMenuClose),c.elementSetScrollCss(c.content,!1),null===(i=c.mobileNavigation)||void 0===i||i.classList.add("is-active"),null===(o=c.hamburgerMenu)||void 0===o||o.classList.add("is-active"),null===(s=c.announcementBar)||void 0===s||s.classList.add("d-none"))})),window.addEventListener("orientationchange",(function(){var e,t,n,i,o;(null===(e=c.mobileNavigation)||void 0===e?void 0:e.classList.contains("is-active"))&&(null===(n=null===(t=c.hamburgerMenu)||void 0===t?void 0:t.querySelector("img"))||void 0===n||n.setAttribute("src",l.imagesUrl.hamburgerMenu),null===(i=c.mobileNavigation)||void 0===i||i.classList.remove("is-active"),null===(o=c.hamburgerMenu)||void 0===o||o.classList.remove("is-active"),c.elementSetScrollCss(c.content,!0))}))},this.bindUiActions=function(){c.mobileMenuToggle({setNavTopOffsetCallback:c.setNavTopOffset}),c.toggleButtonClickHandler(),c.closeMobileButtonClickHandler()},this.toggleButtonClickHandler=function(){c.toggleButton&&Array.from(c.toggleButton).forEach((function(e){e.addEventListener("click",(function(){var t,n,i,o,s,a;(null===(n=null===(t=e.parentElement)||void 0===t?void 0:t.closest("li"))||void 0===n?void 0:n.classList.contains("is-open"))?null===(o=null===(i=e.parentElement)||void 0===i?void 0:i.closest("li"))||void 0===o||o.classList.remove("is-open"):null===(a=null===(s=e.parentElement)||void 0===s?void 0:s.closest("li"))||void 0===a||a.classList.add("is-open")}))}))},this.closeMobileButtonClickHandler=function(){c.closeMobileButton&&Array.from(c.closeMobileButton).forEach((function(e){e.addEventListener("click",(function(){var t,n,i,o;(null===(n=null===(t=e.parentElement)||void 0===t?void 0:t.closest("li"))||void 0===n?void 0:n.classList.contains("is-open"))&&(null===(o=null===(i=e.parentElement)||void 0===i?void 0:i.closest("li"))||void 0===o||o.classList.remove("is-open"))}))}))},this.setHeaderClassesByStickiness=function(){var e;c.header&&window.scrollY>(null===(e=c.header)||void 0===e?void 0:e.offsetHeight)&&c.header.classList.contains("scroll-type-sticky_compact")&&c.header.classList.add("has-compact-content")},this.setPageHeightVariable=function(){document.documentElement.style.setProperty("--page-height","".concat(window.innerHeight,"px"))},this.hideMobileMenuIfOpen=function(){c.mobileNavigation&&c.mobileNavigation.classList.contains("is-active")&&c.hamburgerMenu&&c.hamburgerMenu.click()},this.removeHasCompactClass=function(){c.header&&c.header.classList.remove("has-compact-content")},this.addHasCompactClass=function(){c.header&&c.header.classList.add("has-compact-content")},this.init()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e}().getInstance()}},e=>{var t,n=(t=4134,e(e.s=t));(storefront=void 0===storefront?{}:storefront).navigation=n.default}]);