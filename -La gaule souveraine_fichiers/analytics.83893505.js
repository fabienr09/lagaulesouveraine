"use strict";var storefront;(self.webpackChunkstorefront=self.webpackChunkstorefront||[]).push([[153],{4788:(e,t,n)=>{n.d(t,{default:()=>a});var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};const a=function(){function e(){this.init()}return e.prototype.init=function(){window.dataLayer&&document.addEventListener("cookieConsentInitialized",(function(t){if("undefined"!=typeof gtag){var n=t.detail;gtag("consent","default",{analytics_storage:n?"granted":"denied",ad_storage:n?"granted":"denied"})}if(e.setMerchantData(),void 0===appInfo.isCheckout){var i=document.body.dataset.contentGroup;e.sendPageViewEvent(i,!1),document.addEventListener("itemAddedToCartEvent",(function(t){e.sendAddToCartEvent(t.detail)})),document.addEventListener("viewCartEvent",(function(t){e.sendViewCartEvent(t.detail)})),document.addEventListener("updateCookieConsent",(function(){e.sendPageViewEvent(i,!0)})),document.addEventListener("buttonClicked",(function(t){e.sendButtonClickedEvent(t.detail)})),document.addEventListener("crossSellOfferAddToCart",(function(t){e.sendCrossSellOfferAddToCartEvent(t.detail)})),document.addEventListener("crossSellOfferItemRedirect",(function(t){e.sendCrossSellOfferItemRedirectEvent(t.detail)})),document.addEventListener("crossSellOfferOpen",(function(t){e.sendCrossSellOfferOpenEvent(t.detail)})),document.addEventListener("viewItemEvent",(function(t){e.sendViewItemEvent(t.detail)})),document.addEventListener("selectItemEvent",(function(t){e.sendSelectItemEvent(t.detail)})),document.addEventListener("viewItemListEvent",(function(t){e.sendViewItemListEvent(t.detail)})),document.addEventListener("newsletterSignUpEvent",(function(){e.sendNewsletterSignUpEvent()})),document.addEventListener("newsletterEmailConfirmationEvent",(function(){e.sendNewsletterEmailConfirmationEvent()})),document.dispatchEvent(new CustomEvent("analyticsIsLoaded"))}else e.addCheckoutEventListeners()}))},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.manageCustomerAnalytics=function(t){if(window.customerDataLayer){var n=["is_consent_update","transaction_id"],i=t.event;if(e.customerAnalyticsEvents.includes(i)){var a=JSON.parse(JSON.stringify(t));Object.keys(a).map((function(e){n.includes(e)&&delete a[e]})),window.customerDataLayer.push(a)}}},e.setMerchantData=function(){var e="",t="";"undefined"!=typeof appInfo&&(e=appInfo.mch,t=appInfo.shopId),void 0!==storefront.shared&&(e=storefront.shared.globalVariables.shopInfo.mch,t=storefront.shared.globalVariables.shopInfo.uuid),window.dataLayer.push({merchant_code:e,shop_uuid:t})},e.sendPageViewEvent=function(t,n){var i={content_group:t,event:"page_view",page_title:document.title,page_location:document.location.href,clean_path:document.location.pathname,is_consent_update:n||!1};window.dataLayer.push(i),e.manageCustomerAnalytics(i)},e.sendAddToCartEvent=function(t){var n={event:"add_to_cart",currency:t.currency,value:Number(t.price*t.quantity/100).toFixed(2),items:[i({item_id:t.item_id,item_name:t.item_name,quantity:t.quantity,price:Number(t.price/100).toFixed(2)},t.item_list_id&&{item_list_id:t.item_list_id})]};window.dataLayer.push(n),e.manageCustomerAnalytics(n)},e.sendViewItemEvent=function(e){window.dataLayer.push(e)},e.sendSelectItemEvent=function(e){window.dataLayer.push({event:"select_item",item_list_id:e.item_list_id,items:e.items})},e.sendViewItemListEvent=function(e){window.dataLayer.push({event:"view_item_list",item_list_id:e.item_list_id,items:e.items})},e.sendCrossSellOfferAddToCartEvent=function(e){window.dataLayer.push(e)},e.sendCrossSellOfferItemRedirectEvent=function(e){window.dataLayer.push(e)},e.sendCrossSellOfferOpenEvent=function(e){window.dataLayer.push(e)},e.sendViewCartEvent=function(t){window.dataLayer.push(t),e.manageCustomerAnalytics(t)},e.sendBeginCheckoutEvent=function(e){var t={event:"begin_checkout",currency:e.currency,value:e.value,items:e.items};window.dataLayer.push(t)},e.sendAddContactInfoEvent=function(e){var t={event:"add_contact_info",currency:e.currency,value:e.value,items:e.items};window.dataLayer.push(t)},e.sendAddShippingInfoEvent=function(e){var t=e.cart,n={event:"add_shipping_info",currency:t.currency,value:t.value,items:t.items,shipping_option:e.shippingOption};window.dataLayer.push(n)},e.sendAddPaymentInfoEvent=function(e){var t=e.cart,n={event:"add_payment_info",currency:t.currency,value:t.value,items:t.items,transaction_id:e.transactionId};window.dataLayer.push(n)},e.sendPurchaseEvent=function(t){var n=t.cart,i={event:"purchase",currency:n.currency,value:n.value,items:n.items,transaction_id:t.transactionId};window.dataLayer.push(i),e.manageCustomerAnalytics(i)},e.sendButtonClickedEvent=function(e){var t=i({event:"button_clicked",button_description:e.button_description},e.option&&{option:e.option});window.dataLayer.push(t)},e.sendNewsletterSignUpEvent=function(){window.dataLayer.push({event:"newsletter_signed-up"})},e.sendNewsletterEmailConfirmationEvent=function(){window.dataLayer.push({event:"newsletter-confirmation_viewed"})},e.addCheckoutEventListeners=function(){document.addEventListener("beginCheckoutEvent",(function(t){var n=t.detail.cartDetails;e.sendBeginCheckoutEvent(n)})),document.addEventListener("addContactInfoEvent",(function(t){var n=t.detail.cartDetails;e.sendAddContactInfoEvent(n)})),document.addEventListener("addShippingInfoEvent",(function(t){var n=t.detail,i=n.cartDetails,a=n.shippingOption;e.sendAddShippingInfoEvent({cart:i,shippingOption:a})})),document.addEventListener("addPaymentInfoEvent",(function(t){var n=t.detail,i=n.cartDetails,a=n.transactionId;e.sendAddPaymentInfoEvent({cart:i,transactionId:a})})),document.addEventListener("purchaseEvent",(function(t){var n=t.detail,i=n.cartDetails,a=n.transactionId;e.sendPurchaseEvent({cart:i,transactionId:a})})),document.addEventListener("pageViewEventCheckout",(function(t){var n=t.detail.contentGroup;e.sendPageViewEvent(n)}))},e.customerAnalyticsEvents=["page_view","view_cart","add_to_cart","purchase"],e}().getInstance()}},e=>{var t,n=(t=4788,e(e.s=t));(storefront=void 0===storefront?{}:storefront).analytics=n.default}]);